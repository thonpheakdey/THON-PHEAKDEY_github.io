<!DOCTYPE html>
<html autocapitalize="1s">

<head>
    <link rel="stylesheet" type="text/css" href="solar.css">
    <meta charset="-8">
    <style>
        #header {
            background-color: aquamarine;
            width: 472px;
        }

        .input {
            background-color: aliceblue;
            width: 147px;
            font-size: 12px;
            height: 28px;
            border-radius: 10px;
            margin: 5px;
        }

        #btnCreale {
            width: 250px;
            height: 43px;
            margin: 20px;
        }

        #before {
            width: 435px;
            margin: 10px;
        }

        #btnCreale>button {
            background-color: rgba(255, 35, 35, 0.534);
            width: 84px;
            margin: 10px;
            margin-top: 5px;
            height: 33px;
            border-radius: 10px;
        }

        #headresal {
            background-color: bisque;
            width: 100%;
            height: 109px;
        }

        #headresal>p {
            width: 80%;
            height: 44px;
            background-color: #0000ff;
            color: white;
            text-align: center;
            display: flex;
            flex-wrap: wrap;
            align-content: space-around;
            justify-content: flex-start;
            border-radius: 9px;
        }


        #inputred {
            background-color: #eb8080;
            width: 90px;
            float: right;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            flex-direction: column-reverse;
            margin-top: -52px;
        }


        #inputred>input {
            width: 80px;
        }
    </style>
</head>

<body>
    <div id="header">
        <div id="before">
            <!-- <input type="number" placeholder="ចំនួនអានុភាព (W)" id="inputw1" class="input" 0><input type="number"
                placeholder="ចំនួនម៉ោង (h)" id="inputh1" class="input"><output id="output1" class="input">Wh</output> -->
        </div>
        <div id="inputred">

        </div>
        <div id="btnCreale">

            <button id="newInput" onclick="newinputBtn()">New Input</button>
            <button id="delteInput" onclick="delteinputBtn()">Delte Input</button>
        </div>
        <diV id="headresal">
            <p id="resal"></p>
        </diV>
    </div>


<script>
    let inputw = document.createElement('input');
    let inputh = document.createElement('input');
    let output = document.createElement('output');
    // let br = document.createElement('br');
    //inputw
    inputw.type = "number";
    inputw.placeholder = "ចំនួនអានុភាព (W)";
    inputw.id = "inputw1";
    inputw.className = "input";
    //inputh
    inputh.type = "number";
    inputh.placeholder = "ចំនួនម៉ោង (h)";
    inputh.id = "inputh1";
    inputh.className = "input";
    //
    output.id = "output1";
    output.className = "input";
    output.innerText = "Wh";
    output.style.backgroundColorz = "red";

    before.appendChild(inputw);
    before.appendChild(inputh);
    before.appendChild(output);

    for (let g = 0; g < 4; g++) {
        let nameplaceholder = ["Ncc", "Ninv", "Nba", "Tavg"];
        let inputred1 = document.createElement('input');
        inputred1.id = "inputred" + g;
        inputred1.placeholder = nameplaceholder[g];
        inputred.appendChild(inputred1);
    }
    let ppv = document.createElement('p')
    ppv.id = "outputppv"
    headresal.appendChild(ppv);
    // ប្រើbutton create
    var x = 1;
    function newinputBtn() {
        x += 1;
        let inputw = document.createElement('input');
        let inputh = document.createElement('input');
        let output = document.createElement('output');
        // let br = document.createElement('br');
        //inputw
        inputw.type = "number";
        inputw.placeholder = "ចំនួនអានុភាព (W)";
        inputw.id = "inputw" + x;
        inputw.className = "input";
        //inputh
        inputh.type = "number";
        inputh.placeholder = "ចំនួនម៉ោង (h)";
        inputh.id = "inputh" + x;
        inputh.className = "input";
        //
        output.id = "output" + x;
        output.className = "input";
        output.innerText = "Wh";
        output.style.backgroundColorz = "red";

        before.appendChild(inputw);
        before.appendChild(inputh);
        before.appendChild(output);
        // before.appendChild(br);
        // console.log(x);

    }
    // ប្រើbutton delete
    function delteinputBtn() {

        let inputw = document.getElementById('inputw' + x);
        let inputh = document.getElementById('inputh' + x);
        let output = document.getElementById('output' + x);
        inputw.remove();
        inputh.remove();
        output.remove();
        x--
    }
    //លទ្ធផល
    window.onmousemove = function () {
        // តាំង
        let resal0255 = 0;
        var resal12 = 0;
        for (let y = 1; y <= x; y++) {
            //ហៅId
            var inputwx = document.getElementById("inputw" + y);
            var inputhx = document.getElementById("inputh" + y);
            out = document.getElementById("output" + y);
            allresal = document.getElementById("resal");
            //ហៅលេខ
            inputw1x = inputwx.valueAsNumber;
            inputh1x = inputhx.valueAsNumber;

            //គណនា
            resal0255 = (inputw1x * inputh1x);
            if (inputwx.value == '' || inputhx.value == '') { resal0255 = 0; }
            resal12 += resal0255
            // console.log(inputwx);
            // console.log(resal0255);
            // console.log(resal);
            // console.log(x);
            // console.log(y);
            out.innerText = (resal0255 + "wh");
            allresal.innerText = ("ចំនួនអានុភាណសរុប = " + resal12 + "Wh");
        }
        var gs = 1;
        var Ppv = 0;
        for (let g = 0; g < 4; g++) {
            inputredg = document.getElementById("inputred" + g);
            // console.log(inputredg);
            inputredg = Number(inputredg.value);

            // console.log(inputredg);
            gs = gs * inputredg;

            console.log(gs);
            console.log(resal12);

            // 
            Ppv = resal12 / gs
            if (outputppv.innerText == "ចំនួនPpv = NaNW" || outputppv.innerText == "ចំនួនPpv = InfinityW") { Ppv = 0; }
            console.log(Ppv);
            outputppv.innerText = ("ចំនួនPpv = " + Ppv + "W");

        }


    }

</script>
</body>

</html>
